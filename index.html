<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Página con Validación de Contraseña</title>
  <script type="module" src="https://unpkg.com/@splinetool/viewer@1.9.32/build/spline-viewer.js"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #000;
      color: #fff;
      font-family: Arial, sans-serif;
    }

    /* Fondo de spline */
    spline-viewer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    /* Contenedor traslúcido y redondeado */
    .container {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 20px;
      text-align: center;
      width: 400px;
      box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.5);
    }

    /* Logo 3D redondeado */
    .logo {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background-color: #fff;
      margin: 0 auto 20px;
    }

    /* Botón copiar */
    .btn-copy {
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }

    .btn-copy:hover {
      background-color: #45a049;
    }

    /* Contador regresivo */
    .countdown {
      font-size: 20px;
      margin-top: 10px;
    }

    /* Bandera redondeada */
    .flag {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid #fff;
      margin: 5px;
      cursor: pointer;
    }

    .flags-container {
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <spline-viewer url="https://prod.spline.design/4OubZopOs0jlpCTa/scene.splinecode"></spline-viewer>

  <div class="container">
    <!-- Contenedor de logo 3D -->
    <div class="logo"></div>

    <!-- Contraseña generada -->
    <h2>Contraseña: <span id="password"></span></h2>

    <!-- Botón copiar contraseña -->
    <button class="btn-copy" id="copyBtn">Copiar contraseña</button>

    <!-- Contador regresivo -->
    <div class="countdown">Tiempo restante: <span id="timer">30</span> segundos</div>

    <!-- Contenedor de banderas -->
    <div class="flags-container">
      <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg" class="flag" onclick="translatePage('es')" alt="España">
      <img src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg" class="flag" onclick="translatePage('en')" alt="EEUU">
      <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg" class="flag" onclick="translatePage('fr')" alt="Francia">
      <img src="https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_China.svg" class="flag" onclick="translatePage('zh')" alt="China">
      <img src="https://upload.wikimedia.org/wikipedia/en/0/03/Flag_of_Italy.svg" class="flag" onclick="translatePage('it')" alt="Italia">
    </div>
  </div>

  <script>
    // Función para generar una contraseña aleatoria
    function generatePassword() {
      const chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()";
      let password = "";
      for (let i = 0; i < 12; i++) {
        password += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      document.getElementById('password').textContent = password;
    }

    // Inicializar contraseña y contador
    let timeLeft = 30;
    generatePassword();

    // Actualizar contador cada segundo
    const timerInterval = setInterval(() => {
      timeLeft--;
      document.getElementById('timer').textContent = timeLeft;
      if (timeLeft === 0) {
        generatePassword();
        timeLeft = 30; // Reiniciar el contador
      }
    }, 1000);

    // Función para copiar contraseña al portapapeles
    document.getElementById('copyBtn').addEventListener('click', () => {
      const password = document.getElementById('password').textContent;
      navigator.clipboard.writeText(password).then(() => {
        alert('Contraseña copiada al portapapeles');
      });
    });

    // Función para traducir la página según el idioma seleccionado
    function translatePage(lang) {
      const translations = {
        'es': {
          'Contraseña': 'Contraseña',
          'Tiempo restante': 'Tiempo restante',
          'Copiar contraseña': 'Copiar contraseña'
        },
        'en': {
          'Contraseña': 'Password',
          'Tiempo restante': 'Time remaining',
          'Copiar contraseña': 'Copy password'
        },
        'fr': {
          'Contraseña': 'Mot de passe',
          'Tiempo restante': 'Temps restant',
          'Copiar contraseña': 'Copier le mot de passe'
        },
        'zh': {
          'Contraseña': '密码',
          'Tiempo restante': '剩余时间',
          'Copiar contraseña': '复制密码'
        },
        'it': {
          'Contraseña': 'Password',
          'Tiempo restante': 'Tempo rimanente',
          'Copiar contraseña': 'Copia password'
        }
      };

      document.querySelector('h2').innerHTML = translations[lang]['Contraseña'] + ': <span id="password"></span>';
      document.querySelector('.countdown').textContent = translations[lang]['Tiempo restante'] + ': <span id="timer">30</span> segundos';
      document.getElementById('copyBtn').textContent = translations[lang]['Copiar contraseña'];
    }

    // Redirigir a URL después de validar
    function validateAndRedirect() {
      // Aquí puedes agregar la validación que desees
      window.location.href = "https://8x8.vc/vpaas-magic-cookie-f6824533bb164d58a615b5624cd75181/room1";
    }
  </script>

</body>
</html>
